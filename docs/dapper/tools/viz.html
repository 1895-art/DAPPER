<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.9.1" />
<title>dapper.tools.viz API documentation</title>
<meta name="description" content="Tools for plotting." />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS_CHTML" integrity="sha256-kZafAc6mZvK3W3v1pHOcUix30OHQN6pU/NO2oFkqZVw=" crossorigin></script>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>dapper.tools.viz</code></h1>
</header>
<section id="section-intro">
<p>Tools for plotting.</p>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="dapper.tools.viz.setup_wrapping"><code class="name flex">
<span>def <span class="ident">setup_wrapping</span></span>(<span>M, periodicity=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Wrap the state indices and
create a function that does the same for state vectors (or and ensemble thereof).</p>
<ul>
<li>'periodicity' defines the mode of the wrapping.
Default: "+1", meaning that the first element is appended after the last.</li>
</ul></div>
</dd>
<dt id="dapper.tools.viz.amplitude_animation"><code class="name flex">
<span>def <span class="ident">amplitude_animation</span></span>(<span>EE, dt=None, interval=1, periodicity=None, blit=True, fignum=None, repeat=False)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="dapper.tools.viz.adjust_position"><code class="name flex">
<span>def <span class="ident">adjust_position</span></span>(<span>ax, adjust_extent=False, **kwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>Adjust values (add) to get_position().
kwarg must be one of 'x0','y0','width','height'.</p></div>
</dd>
<dt id="dapper.tools.viz.xtrema"><code class="name flex">
<span>def <span class="ident">xtrema</span></span>(<span>xx, axis=None)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="dapper.tools.viz.stretch"><code class="name flex">
<span>def <span class="ident">stretch</span></span>(<span>a, b, factor=1, int=False)</span>
</code></dt>
<dd>
<div class="desc"><p>Stretch distance a-b by factor.
Return a,b.
If int: floor(a) and ceil(b)</p></div>
</dd>
<dt id="dapper.tools.viz.set_ilim"><code class="name flex">
<span>def <span class="ident">set_ilim</span></span>(<span>ax, i, Min=None, Max=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Set bounds on axis i.</p></div>
</dd>
<dt id="dapper.tools.viz.estimate_good_plot_length"><code class="name flex">
<span>def <span class="ident">estimate_good_plot_length</span></span>(<span>xx, chrono=None, mult=100)</span>
</code></dt>
<dd>
<div class="desc"><p>Estimate good length for plotting stuff
from the time scale of the system.
Provide sensible fall-backs (better if chrono is supplied).</p></div>
</dd>
<dt id="dapper.tools.viz.plot_pause"><code class="name flex">
<span>def <span class="ident">plot_pause</span></span>(<span>interval)</span>
</code></dt>
<dd>
<div class="desc"><p>Similar to plt.pause(), but doesn't focus window.</p>
<p>NB: doesn't create windows either.
For that, use plt.pause() or plt.show() instead.</p></div>
</dd>
<dt id="dapper.tools.viz.plot_hovmoller"><code class="name flex">
<span>def <span class="ident">plot_hovmoller</span></span>(<span>xx, chrono=None, **kwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>Plot Hovm√∂ller diagram.</p></div>
</dd>
<dt id="dapper.tools.viz.integer_hist"><code class="name flex">
<span>def <span class="ident">integer_hist</span></span>(<span>E, N, centrd=False, weights=None, **kwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>Histogram for integers.</p></div>
</dd>
<dt id="dapper.tools.viz.not_available_text"><code class="name flex">
<span>def <span class="ident">not_available_text</span></span>(<span>ax, txt=None, fs=20)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="dapper.tools.viz.plot_err_components"><code class="name flex">
<span>def <span class="ident">plot_err_components</span></span>(<span>stats)</span>
</code></dt>
<dd>
<div class="desc"><p>Plot components of the error.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>it was chosen to plot(ii, mean_in_time(abs(err_i))),
and thus the corresponding spread measure is MAD.
If one chose instead: plot(ii, std_in_time(err_i)),
then the corresponding measure of spread would have been std.
This choice was made in part because (wrt. subplot 2)
the singular values (svals) correspond to rotated MADs,
and because rms(umisf) seems to convoluted for interpretation.</p>
</div></div>
</dd>
<dt id="dapper.tools.viz.plot_rank_histogram"><code class="name flex">
<span>def <span class="ident">plot_rank_histogram</span></span>(<span>stats)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="dapper.tools.viz.adjustable_box_or_forced"><code class="name flex">
<span>def <span class="ident">adjustable_box_or_forced</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>For set_aspect(), adjustable='box-forced' replaced by 'box' since mpl 2.2.0.</p></div>
</dd>
<dt id="dapper.tools.viz.freshfig"><code class="name flex">
<span>def <span class="ident">freshfig</span></span>(<span>num=None, figsize=None, *args, **kwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>Create/clear figure.</p>
<p>Similar to::</p>
<p>fig, ax = suplots(<em>args,</em>*kwargs)</p>
<p>With the modification that:</p>
<ul>
<li>If the figure does not exist: create it.
This allows for figure sizing &ndash; even with mpl backend MacOS.
Also place figure.</li>
<li>Otherwise: clear figure.
Avoids closing/opening so as to keep pos and size.</li>
</ul></div>
</dd>
<dt id="dapper.tools.viz.show_figs"><code class="name flex">
<span>def <span class="ident">show_figs</span></span>(<span>fignums=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Move all fig windows to top</p></div>
</dd>
<dt id="dapper.tools.viz.get_fig"><code class="name flex">
<span>def <span class="ident">get_fig</span></span>(<span>fignum=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Get/validate fig handle</p></div>
</dd>
<dt id="dapper.tools.viz.get_fmw"><code class="name flex">
<span>def <span class="ident">get_fmw</span></span>(<span>fignum=None)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="dapper.tools.viz.get_screen_size"><code class="name flex">
<span>def <span class="ident">get_screen_size</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Get <strong>available</strong> screen size/resolution.</p></div>
</dd>
<dt id="dapper.tools.viz.fig_rel_geometry"><code class="name flex">
<span>def <span class="ident">fig_rel_geometry</span></span>(<span>fignum=None, x=None, y=None, w=None, h=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Place figure on screen, in coordinates relative (between 0 and 1).</p></div>
</dd>
<dt id="dapper.tools.viz.fig_place"><code class="name flex">
<span>def <span class="ident">fig_place</span></span>(<span>loc, fignum=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Place figure on screen.</p>
<ul>
<li>loc: string that defines the figures new geometry, given either as</li>
<li>NW, E, &hellip;</li>
<li>4 digits (as str or int) to define grid M,N,i,j.</li>
</ul>
<p>Example:</p>
<pre><code class="language-python-repl">&gt;&gt;&gt; N = 3
&gt;&gt;&gt; for i in 1+arange(N):
&gt;&gt;&gt;   loc = str(N)*2 + str(i)*2
&gt;&gt;&gt;   fig_place(loc, i)
</code></pre></div>
</dd>
<dt id="dapper.tools.viz.autoscale_based_on"><code class="name flex">
<span>def <span class="ident">autoscale_based_on</span></span>(<span>ax, line_handles)</span>
</code></dt>
<dd>
<div class="desc"><p>Autoscale axis based (only) on line_handles.</p></div>
</dd>
<dt id="dapper.tools.viz.toggle_lines"><code class="name flex">
<span>def <span class="ident">toggle_lines</span></span>(<span>ax=None, autoscl=True, numbering=False, txtwidth=15, txtsize=None, state=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Make checkbuttons to toggle visibility of each line in current plot.
autoscl
: Rescale axis limits as required by currently visible lines.
numbering: Add numbering to labels.
txtwidth : Wrap labels to this length.</p>
<p>State of checkboxes can be inquired by
OnOff = [lh.get_visible() for lh in
ax.findobj(lambda x: isinstance(x,mpl.lines.Line2D))[::2]]</p></div>
</dd>
<dt id="dapper.tools.viz.toggle_viz"><code class="name flex">
<span>def <span class="ident">toggle_viz</span></span>(<span>*handles, prompt=False, legend=False, pause=True)</span>
</code></dt>
<dd>
<div class="desc"><p>Toggle visibility of the graphics with handle handles.</p></div>
</dd>
<dt id="dapper.tools.viz.nrowcol"><code class="name flex">
<span>def <span class="ident">nrowcol</span></span>(<span>nTotal, AR=1)</span>
</code></dt>
<dd>
<div class="desc"><p>Return integer nrows and ncols such that nTotal ‚âà nrows*ncols.</p></div>
</dd>
<dt id="dapper.tools.viz.axes_with_marginals"><code class="name flex">
<span>def <span class="ident">axes_with_marginals</span></span>(<span>n_joint, n_marg, **kwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>Create a joint axis along with two marginal axes.</p>
<p>Example:</p>
<pre><code class="language-python-repl">&gt;&gt;&gt; ax_s, ax_x, ax_y = axes_with_marginals(4, 1)
&gt;&gt;&gt; x, y = np.random.randn(2,500)
&gt;&gt;&gt; ax_s.scatter(x,y)
&gt;&gt;&gt; ax_x.hist(x)
&gt;&gt;&gt; ax_y.hist(y,orientation=&quot;horizontal&quot;)
</code></pre></div>
</dd>
<dt id="dapper.tools.viz.cov_ellipse"><code class="name flex">
<span>def <span class="ident">cov_ellipse</span></span>(<span>ax, mu, sigma, **kwargs)</span>
</code></dt>
<dd>
<div class="desc"><p>Draw ellipse corresponding to (Gaussian) 1-sigma countour of cov matrix.</p>
<p>Inspired by <a href="https://stackoverflow.com/q/17952171">https://stackoverflow.com/q/17952171</a></p>
<p>Example:</p>
<pre><code class="language-python-repl">&gt;&gt;&gt; ellipse = cov_ellipse(ax, y, R,
&gt;&gt;&gt;           facecolor='none', edgecolor='y',lw=4,label='$1\sigma$')
</code></pre></div>
</dd>
<dt id="dapper.tools.viz.axis_scale_by_array"><code class="name flex">
<span>def <span class="ident">axis_scale_by_array</span></span>(<span>ax, arr, axis='y', nbins=3)</span>
</code></dt>
<dd>
<div class="desc"><p>Scale axis so that the arr entries appear equidistant.</p>
<p>The full transformation is piecewise-linear.</p></div>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="dapper.tools.viz.FigSaver"><code class="flex name class">
<span>class <span class="ident">FigSaver</span></span>
<span>(</span><span>script=None, basename=None, n=-1, ext='.pdf')</span>
</code></dt>
<dd>
<div class="desc"><p>Simplify exporting a figure, especially when it's part of a series.</p></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="dapper.dict_tools.NicePrint" href="../dict_tools.html#dapper.dict_tools.NicePrint">NicePrint</a></li>
</ul>
<h3>Instance variables</h3>
<dl>
<dt id="dapper.tools.viz.FigSaver.fullname"><code class="name">var <span class="ident">fullname</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="dapper.tools.viz.FigSaver.save"><code class="name flex">
<span>def <span class="ident">save</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="dapper.tools" href="index.html">dapper.tools</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="dapper.tools.viz.setup_wrapping" href="#dapper.tools.viz.setup_wrapping">setup_wrapping</a></code></li>
<li><code><a title="dapper.tools.viz.amplitude_animation" href="#dapper.tools.viz.amplitude_animation">amplitude_animation</a></code></li>
<li><code><a title="dapper.tools.viz.adjust_position" href="#dapper.tools.viz.adjust_position">adjust_position</a></code></li>
<li><code><a title="dapper.tools.viz.xtrema" href="#dapper.tools.viz.xtrema">xtrema</a></code></li>
<li><code><a title="dapper.tools.viz.stretch" href="#dapper.tools.viz.stretch">stretch</a></code></li>
<li><code><a title="dapper.tools.viz.set_ilim" href="#dapper.tools.viz.set_ilim">set_ilim</a></code></li>
<li><code><a title="dapper.tools.viz.estimate_good_plot_length" href="#dapper.tools.viz.estimate_good_plot_length">estimate_good_plot_length</a></code></li>
<li><code><a title="dapper.tools.viz.plot_pause" href="#dapper.tools.viz.plot_pause">plot_pause</a></code></li>
<li><code><a title="dapper.tools.viz.plot_hovmoller" href="#dapper.tools.viz.plot_hovmoller">plot_hovmoller</a></code></li>
<li><code><a title="dapper.tools.viz.integer_hist" href="#dapper.tools.viz.integer_hist">integer_hist</a></code></li>
<li><code><a title="dapper.tools.viz.not_available_text" href="#dapper.tools.viz.not_available_text">not_available_text</a></code></li>
<li><code><a title="dapper.tools.viz.plot_err_components" href="#dapper.tools.viz.plot_err_components">plot_err_components</a></code></li>
<li><code><a title="dapper.tools.viz.plot_rank_histogram" href="#dapper.tools.viz.plot_rank_histogram">plot_rank_histogram</a></code></li>
<li><code><a title="dapper.tools.viz.adjustable_box_or_forced" href="#dapper.tools.viz.adjustable_box_or_forced">adjustable_box_or_forced</a></code></li>
<li><code><a title="dapper.tools.viz.freshfig" href="#dapper.tools.viz.freshfig">freshfig</a></code></li>
<li><code><a title="dapper.tools.viz.show_figs" href="#dapper.tools.viz.show_figs">show_figs</a></code></li>
<li><code><a title="dapper.tools.viz.get_fig" href="#dapper.tools.viz.get_fig">get_fig</a></code></li>
<li><code><a title="dapper.tools.viz.get_fmw" href="#dapper.tools.viz.get_fmw">get_fmw</a></code></li>
<li><code><a title="dapper.tools.viz.get_screen_size" href="#dapper.tools.viz.get_screen_size">get_screen_size</a></code></li>
<li><code><a title="dapper.tools.viz.fig_rel_geometry" href="#dapper.tools.viz.fig_rel_geometry">fig_rel_geometry</a></code></li>
<li><code><a title="dapper.tools.viz.fig_place" href="#dapper.tools.viz.fig_place">fig_place</a></code></li>
<li><code><a title="dapper.tools.viz.autoscale_based_on" href="#dapper.tools.viz.autoscale_based_on">autoscale_based_on</a></code></li>
<li><code><a title="dapper.tools.viz.toggle_lines" href="#dapper.tools.viz.toggle_lines">toggle_lines</a></code></li>
<li><code><a title="dapper.tools.viz.toggle_viz" href="#dapper.tools.viz.toggle_viz">toggle_viz</a></code></li>
<li><code><a title="dapper.tools.viz.nrowcol" href="#dapper.tools.viz.nrowcol">nrowcol</a></code></li>
<li><code><a title="dapper.tools.viz.axes_with_marginals" href="#dapper.tools.viz.axes_with_marginals">axes_with_marginals</a></code></li>
<li><code><a title="dapper.tools.viz.cov_ellipse" href="#dapper.tools.viz.cov_ellipse">cov_ellipse</a></code></li>
<li><code><a title="dapper.tools.viz.axis_scale_by_array" href="#dapper.tools.viz.axis_scale_by_array">axis_scale_by_array</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="dapper.tools.viz.FigSaver" href="#dapper.tools.viz.FigSaver">FigSaver</a></code></h4>
<ul class="">
<li><code><a title="dapper.tools.viz.FigSaver.save" href="#dapper.tools.viz.FigSaver.save">save</a></code></li>
<li><code><a title="dapper.tools.viz.FigSaver.fullname" href="#dapper.tools.viz.FigSaver.fullname">fullname</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.9.1</a>.</p>
</footer>
</body>
</html>